<page-header text="Import Users">
	<btn type="primary" icon="cloud-upload" ng-click="import()">Import</btn>
</page-header>

<div class="page-content">

	<div class="importer" layout="flex" align="center">
		<label>CSV File</label>
		<input type="file" class="form-control" fileread="file" loader="loader" ratio="1">
		<button class="btn btn-info" ng-click="reload()"><i class="fa fa-refresh fa-fw" ng-class="{'fa-spin': reloading}"></i></button>
	</div>

	<div class="error-box error-box" ng-show="errors.length">
		<div class="title"><i class="fa fa-exclamation-triangle"></i> Errors <b>({{ errors.length }})</b></div>
		<div class="content" layout="col">
			<p ng-repeat="error in errors" ratio="1" layout="row" justify="between" align="center">
				<span>{{ error.message }}</span>
				<a class="btn btn-primary btn-sm btn-icon" href="/manage/class/new?code={{ error.group_code }}" target="_blank">
					<i class="fa fa-plus"></i>Create {{ error.group_code }}
				</a>
			</p>
		</div>
	</div>

	<div ng-show="users.length">
		<alert type="success" icon="check" text="Found {{ users.length }} Users"></alert>

		<table class="table">
			<tr>
				<th>Name</th>
				<th>Email</th>
				<th>ID Number</th>
				<th>Phone</th>
				<th>DOB</th>
				<th>Password</th>
				<th>Class</th>
			</tr>

			<tr ng-repeat="user in users">
				<td>{{ user.name }}</td>
				<td>{{ user.email }}</td>
				<td>{{ user.id_number }}</td>
				<td>{{ user.phone }}</td>
				<td>{{ user.dob }}</td>
				<td>{{ user.password }}</td>
				<td>
					<span ng-show="user._group">{{ user._group.code }}</span>
					<span ng-show="user._nogroup" class="pip pip-danger">{{ user._nogroup }}</span>
				</td>
			</tr>
		</table>
	</div>

	

</div>