<sidebar></sidebar>

<div class="frame manage" ratio="1" ng-show="!error">
	
	<header class="page-header" layout="row" justify="between" align="center">
		<h1>Product: {{ product.name }}</h1>
		
		<div class="button-row">
			<a href="#/manage/product/{{ product.id }}/edit" class="btn btn-primary btn-sm">Edit</a>
			<button class="btn btn-danger btn-sm" ng-click="delete()"><i class="fa fa-trash"></i></button>
		</div>
	</header>
	
	<breadcrumbs></breadcrumbs>
	
	<div class="page-content">
		
		<table class="table data-table">
			<tr>
				<td class="row-property">Name</td>
				<td class="row-value">{{ product.name }}</td>
			</tr>
			<tr>
				<td class="row-property">Type</td>
				<td class="row-value"><a href="#/manage/product_type/{{ product.type.id }}">{{ product.type.name }}</a></td>
			</tr>
			<tr>
				<td class="row-property">Units ({{ product.units.length }})</td>
				<td class="row-value">
					<div layout="row" align="start" justify="between" ng-show="product.units.length">
						<ul>
							<li ng-repeat="unit in product.units">
								<a href="#/manage/unit/{{ unit.id }}">{{ unit.unit_number }}</a>
							</li>
						</ul>
						
						<a href="#/manage/unit/new" ng-click="preNewUnit()" class="btn btn-primary btn-sm"><i class="fa fa-plus"></i></a>
					</div>
					
					<div class="alert alert-info" ng-if="!product.units.length">
						<p layout="row" align="center" justify="between">
							<span>
								<i class="fa fa-exclamation-circle"></i>
								No units for this product
							</span>
							<a href="#/manage/unit/new" ng-click="preNewUnit()" class="btn btn-primary btn-sm btn-icon"><i class="fa fa-plus"></i> Create one</a>
						</p>
					</div>
				</td>
			</tr>
			<tr>
				<td class="row-property">Groups ({{ product.groups_allowed.length }})</td>
				<td class="row-value">
					<div layout="row" align="start" justify="between" ng-show="product.groups_allowed.length">
						<ul>
							<li ng-repeat="group in product.groups_allowed">
								<a href="#/manage/class/{{ group.id }}">{{ group.code }}</a>
							</li>
						</ul>
					</div>
					
					<div class="alert alert-info" ng-if="!product.groups_allowed.length">
						<p layout="row" align="center" justify="between">
							<span>
								<i class="fa fa-exclamation-circle"></i>
								No classes are allowed to book this product
							</span>
						</p>
					</div>
				</td>
			</tr>
		</table>

	</div>
	
</div>