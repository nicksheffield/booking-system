<header class="page-header" layout="row" align="center" justify="between">
	<h1>Confirm booking</h1>
</header>

<div class="page-content" ng-show="user.can_book">

	<p>Does this look right?</p>
	<p>If not, you can <a href="#/book">go back</a> and modify it first.</p>
	
	<table class="table data-table">
		<tr>
			<td class="row-property">User</td>
			<td class="row-value">{{ booking._user.name }}</td>
		</tr>
		<tr>
			<td class="row-property">Pick Up</td>
			<td class="row-value">
				<span ng-show="booking.pickup_at">
					{{ booking.pickup_at | date }}
				</span>
				<alert type="danger" text="You don't have a pickup date" icon="exclamation-circle" ng-show="!booking.pickup_at"></alert>
			</td>
		</tr>
		<tr>
			<td class="row-property">Due</td>
			<td class="row-value">
				<span ng-show="booking.due_at">
					{{ booking.due_at | date }}
				</span>
				<alert type="danger" text="You don't have a return date" icon="exclamation-circle" ng-show="!booking.due_at"></alert>
			</td>
		</tr>
		<tr>
			<td class="row-property">Products</td>
			<td class="row-value">
				<ul ng-show="booking.products.length">
					<li ng-repeat="item in booking.products">
						{{ product(item.id).name }}
						<b> x{{ item.quantity }}</b>
					</li>
				</ul>
				<alert type="danger" text="You aren't booking any products" icon="exclamation-circle" ng-show="!booking.products.length"></alert>
			</td>
		</tr>
	</table>
	
	<btn type="success" large icon="check" ng-click="confirm()" disable="!booking.due_at || !booking.pickup_at || !booking.products.length">Yes</btn>
	
</div>


<div class="page-content" ng-show="!user.can_book">
	<alert type="danger" icon="exclamation-triangle" text="You are not allowed to make bookings"></alert>

	<p>Reason: <strong>{{ user.can_book_reason }}</strong></p>
	<p>Please talk to your tutor to resolve this issue.</p>
</div>